{"ast":null,"code":"import _slicedToArray from\"D:/Uconnect/uConnect/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import axios from'axios';import{OpportunityCard}from'./OpportunityCard';import{Card,Col,Container,Jumbotron,Row,Image,Button,NavDropdown}from'react-bootstrap';import styles from'./Opportunity.module.css';import Navbar from'./Navbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var mapPathToResource={conference:{image:import('../../Assets/conference-large.png')},competition:{image:import('../../Assets/coding-large.png')},scholarship:{image:import('../../Assets/scholarship-large.png')},hackathon:{image:import('../../Assets/hackathon-large.png')},intern:{image:import('../../Assets/internships-large.png')},job:{image:import('../../Assets/fte.svg')}};/**\n * @param {Object} props\n * @param {string} props.path - API path. something like `internships`\n */var URL=window.location.href;var splitUrl=URL.split('/viewopportunity/')[1];var mapUrlToName={techconf:'Tech Conferences',codingcomp:'Coding Competitions',scholarship:'Scholarships',hackathon:'Hackathons',internships:'Internship Opportunities',fulltime:'Full Time Jobs'};export function ViewOpportunity(props){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),data=_React$useState2[0],setData=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),imgSrc=_React$useState4[0],setImgSrc=_React$useState4[1];var _React$useState5=React.useState(),_React$useState6=_slicedToArray(_React$useState5,2),postOpportunityPath=_React$useState6[0],setPostOpportunityPath=_React$useState6[1];// whenever props.path changes, get latest data from backend\nReact.useEffect(function(){axios.get(generateAPIEndpoint(props.path)).then(function(res){setData(res.data);}).catch(function(err){return console.log(err.stack);});},[props.path]);// lazy load image\nReact.useEffect(function(){mapPathToResource[props.path].image.then(function(mod){return setImgSrc(mod.default);});},[props.path]);// as the last chunk of ViewOpportunity and PostOpportunity is same, we can\n// simply extract it from the URL. passing a prop is not necessary\nReact.useEffect(function(){var pathname=window.location.pathname;var lastChunk=pathname.split('/').pop();lastChunk&&setPostOpportunityPath(\"/postopportunity/\".concat(lastChunk));},[]);if(data.length===0||!data){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:'center',marginTop:'220px',marginBottom:'200px'},children:\"Loading Opportunities if any...\"})]});}var data_length=data.length;// used to check whether opportunity count is 0\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[data_length===0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:'center',marginTop:'220px',marginBottom:'200px'},children:\"No opportunities found!!\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Card,{className:\"text-center\",children:/*#__PURE__*/_jsxs(Card.Body,{style:{backgroundColor:'#BD6997',marginTop:'7rem',height:'10rem'},children:[/*#__PURE__*/_jsx(Card.Title,{}),/*#__PURE__*/_jsx(Card.Text,{children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",href:postOpportunityPath,style:{borderRadius:'5 5 5 5',borderWidth:'0 0 0 0'},className:styles.Button,children:/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'bold'},children:\"Post Opportunity\"})})})]})}),/*#__PURE__*/_jsx(Jumbotron,{style:{backgroundColor:'white',marginTop:'5rem'},children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(NavDropdown,{title:/*#__PURE__*/_jsx(\"span\",{className:styles.Title,style:{fontSize:'30px',fontFamily:'Arial, Helvetica, sans-serif',marginRight:'10px',marginTop:'0'},children:mapUrlToName[splitUrl]}),id:\"dropdown-basic-button\",className:styles.Dropdown,children:[/*#__PURE__*/_jsxs(NavDropdown.Item,{href:\"/viewopportunity/fulltime\",children:[' ',\"Full Time Jobs\",' ']}),/*#__PURE__*/_jsxs(NavDropdown.Item,{href:\"/viewopportunity/hackathon\",children:[' ',\"Hackathons\",' ']}),/*#__PURE__*/_jsxs(NavDropdown.Item,{href:\"/viewopportunity/scholarship\",children:[' ',\"Scholarships\",' ']}),/*#__PURE__*/_jsxs(NavDropdown.Item,{href:\"/viewopportunity/codingcomp\",children:[' ',\"Coding Competitions\",' ']}),/*#__PURE__*/_jsxs(NavDropdown.Item,{href:\"/viewopportunity/techconf\",children:[' ',\"Tech Conferences\",' ']}),/*#__PURE__*/_jsxs(NavDropdown.Item,{href:\"/viewopportunity/internships\",children:[' ',\"Internship Opportunities\",' ']})]})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{style:{marginTop:'20px'},md:12,children:data.map(function(item){return/*#__PURE__*/_jsx(OpportunityCard,{item:item},item.id);})})})]})})]})]}),\");\"]});}/**\n * @param {string} pathChunk API endpoint path for this specific job listing\n */function generateAPIEndpoint(pathChunk){return\"https://opportunitycalendar.herokuapp.com/opportunities/\".concat(pathChunk,\"/list/\");}","map":{"version":3,"sources":["D:/Uconnect/uConnect/src/Components/ViewOpportunity/index.js"],"names":["React","axios","OpportunityCard","Card","Col","Container","Jumbotron","Row","Image","Button","NavDropdown","styles","Navbar","mapPathToResource","conference","image","competition","scholarship","hackathon","intern","job","URL","window","location","href","splitUrl","split","mapUrlToName","techconf","codingcomp","internships","fulltime","ViewOpportunity","props","useState","data","setData","imgSrc","setImgSrc","postOpportunityPath","setPostOpportunityPath","useEffect","get","generateAPIEndpoint","path","then","res","catch","err","console","log","stack","mod","default","pathname","lastChunk","pop","length","textAlign","marginTop","marginBottom","data_length","backgroundColor","height","borderRadius","borderWidth","fontWeight","Title","fontSize","fontFamily","marginRight","Dropdown","map","item","id","pathChunk"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { OpportunityCard } from './OpportunityCard';\nimport {\n  Card,\n  Col,\n  Container,\n  Jumbotron,\n  Row,\n  Image,\n  Button,\n  NavDropdown,\n} from 'react-bootstrap';\nimport styles from './Opportunity.module.css';\nimport Navbar from './Navbar';\n\n\nconst mapPathToResource = {\n  conference: { image: import('../../Assets/conference-large.png') },\n  competition: { image: import('../../Assets/coding-large.png') },\n  scholarship: { image: import('../../Assets/scholarship-large.png') },\n  hackathon: { image: import('../../Assets/hackathon-large.png') },\n  intern: { image: import('../../Assets/internships-large.png') },\n  job: { image: import('../../Assets/fte.svg') },\n};\n\n/**\n * @param {Object} props\n * @param {string} props.path - API path. something like `internships`\n */\n\nconst URL = window.location.href;\nconst splitUrl = URL.split('/viewopportunity/')[1];\nconst mapUrlToName = {\n  techconf: 'Tech Conferences',\n  codingcomp: 'Coding Competitions',\n  scholarship: 'Scholarships' ,\n  hackathon: 'Hackathons',\n  internships: 'Internship Opportunities' ,\n  fulltime: 'Full Time Jobs',\n};\n\n\nexport function ViewOpportunity(props) {\n  const [data, setData] = React.useState([]);\n  const [imgSrc, setImgSrc] = React.useState();\n  const [postOpportunityPath, setPostOpportunityPath] = React.useState();\n\n  // whenever props.path changes, get latest data from backend\n  React.useEffect(() => {\n    axios\n      .get(generateAPIEndpoint(props.path))\n      .then((res) => {\n        setData(res.data);\n      })\n      .catch((err) => console.log(err.stack));\n  }, [props.path]);\n\n  // lazy load image\n  React.useEffect(() => {\n    mapPathToResource[props.path].image.then((mod) => setImgSrc(mod.default));\n  }, [props.path]);\n\n  // as the last chunk of ViewOpportunity and PostOpportunity is same, we can\n  // simply extract it from the URL. passing a prop is not necessary\n  React.useEffect(() => {\n    const pathname = window.location.pathname;\n    const lastChunk = pathname.split('/').pop();\n    lastChunk && setPostOpportunityPath(`/postopportunity/${lastChunk}`);\n  }, []);\n\n  if (data.length === 0 || !data) { \n    return (\n      <div>\n        <Navbar />\n        <h3\n          style={{\n            textAlign: 'center',\n            marginTop: '220px',\n            marginBottom: '200px',\n          }}\n        >\n          Loading Opportunities if any...\n        </h3>\n      </div>\n    );\n  }\n  \n  const data_length = data.length // used to check whether opportunity count is 0\n    \n  return (\n    <>\n      { data_length === 0 ? (\n      <div>\n        <Navbar />\n        <h3\n          style={{\n            textAlign: 'center',\n            marginTop: '220px',\n            marginBottom: '200px',\n          }}\n        >\n          No opportunities found!!\n        </h3>\n      </div>) :\n      <div>\n        <Navbar />\n        <div>\n\n        <Card className=\"text-center\" >\n \n <Card.Body style={{backgroundColor: '#BD6997', marginTop: '7rem' , height:'10rem'}}>\n   <Card.Title> \n     \n                 </Card.Title>\n   <Card.Text>\n               \n   <Button variant=\"primary\"  href={postOpportunityPath} style={{ borderRadius:'5 5 5 5', borderWidth:'0 0 0 0'}} className={styles.Button}><span style={{fontWeight:'bold'}} >\n   Post Opportunity\n     </span></Button>\n \n\n\n   </Card.Text>\n  \n </Card.Body>\n\n\n</Card>\n          <Jumbotron style={{ backgroundColor: 'white' , marginTop:'5rem'}}>\n          \n            <Container>\n              <Row>\n              <NavDropdown\n            title={<span className={styles.Title} style={{fontSize:'30px' , fontFamily: 'Arial, Helvetica, sans-serif',\n            marginRight: '10px', marginTop:'0' }}>{mapUrlToName[splitUrl]}</span>}\n            id=\"dropdown-basic-button\" \n            className={styles.Dropdown}\n          >\n            <NavDropdown.Item href=\"/viewopportunity/fulltime\">\n              {' '}\n              Full Time Jobs{' '} \n            </NavDropdown.Item>\n            <NavDropdown.Item href=\"/viewopportunity/hackathon\">\n              {' '}\n              Hackathons{' '}\n            </NavDropdown.Item>\n            <NavDropdown.Item href=\"/viewopportunity/scholarship\">\n              {' '}\n              Scholarships{' '}\n            </NavDropdown.Item>\n            <NavDropdown.Item href=\"/viewopportunity/codingcomp\">\n              {' '}\n              Coding Competitions{' '}\n            </NavDropdown.Item>\n            <NavDropdown.Item href=\"/viewopportunity/techconf\">\n              {' '}\n              Tech Conferences{' '}\n            </NavDropdown.Item>\n            <NavDropdown.Item href=\"/viewopportunity/internships\">\n              {' '}\n              Internship Opportunities{' '}\n            </NavDropdown.Item>\n          </NavDropdown>\n              </Row>\n            \n\n              <Row>\n                <Col style={{ marginTop: '20px' }} md={12}>\n                  {data.map((item) => {\n                    return <OpportunityCard key={item.id} item={item} />;\n                  })}\n                </Col>\n\n              </Row>\n            </Container>\n\n          </Jumbotron>\n        </div>\n      </div>\n      }\n      );\n    </>\n  );\n}\n\n/**\n * @param {string} pathChunk API endpoint path for this specific job listing\n */\nfunction generateAPIEndpoint(pathChunk) {\n  return `https://opportunitycalendar.herokuapp.com/opportunities/${pathChunk}/list/`;\n}\n"]},"metadata":{},"sourceType":"module"}